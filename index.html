<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>patchEx</title>
  <meta name="author" content="tobeh">
  <meta name="description" content="Regex patcher">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
  </style>
  <script src="https://kit.fontawesome.com/1d27418d86.js" crossorigin="anonymous"></script>
  <link href="css/style.css" rel="stylesheet">
</head>

<body class="dark">
  <h2>
    <span id="leftBtn">
      <i class="fas fa-book-medical"></i>
    </span>patchEx <small> <i class="fas fa-infinity"></i> RegEx code patcher</small>
    <span id="rightBtn">
      <i class="far fa-lightbulb"></i>
    </span>
  </h2>
  <div id="configuration">
    <div id="cardInject" class="card" style="--theme: 78, 78, 181">
      <h3> <i class="fas fa-dna"></i> Inject Code</h3>
      <div class="options">
        <label for="injectCode">Injected code <small>(text)</small></label>
        <textarea id="injectCode">

          </textarea>
        <label for="injectAtRegex">Inject after 1st group <small>(RegEx)</small></label></label>
        <input type="text" id="injectAtRegex">
        <button id="addInjection">Add Injection</button>
      </div>
    </div>
    <div id="cardReplace" class="card" style="--theme: 78, 78, 181">
      <h3><i class="fas fa-reply-all"></i> Replace Text</h3>
      <div class="options">
        <label for="replaceSource">Replace from <small>(RegEx)</small></label>
        <input type="text" id="replaceSource">
        <label for="replaceTarget">Replace to <small>(RegEx)</small></label>
        <input type="text" id="replaceTarget">
        <button id="addReplacement">Add Replacement</button>
      </div>
    </div>
    <div id="cardGroup" class="card" style="--theme:137, 53, 111">
      <h3><i class="fas fa-th-list"></i> Group Details</h3>
      <div class="list" id="currentGroupView">
        Add or choose a group to start!
      </div>
      <div style="gap:1em; display: flex; place-items: center; place-content: space-evenly;">
        <button style="flex-grow:1" id="addGroup">Add Group</button>
        <button style="flex-grow:1" id="deleteGroup">Delete Group</button>
      </div>
    </div>
    <div id="cardAbout" class="card" style="--theme:137, 53, 111">
      <h3><i class="fas fa-infinity"></i> About patchEx <small> tobeh#7437</small></h3>
      <p>
        <b>patchEx</b> is a (slightly rushed) patching tool which is made to work with obfuscated code.
      </p>
      <p>
        The motivation between automated patching is the difficulty of ever-changing obfucscated names, making it hard or time-expensive to maintain the patch when the source code changes frequently.<br>
        With a combination of RegEx and injections, the tool serves as required.
      </p>
      <ul>
        <li>The patch process contains of groups being procedurally executed.</li>
        <li>Each group consists of injections and replcements, executed in this order.</li>
        <li>Injections are code which is added AFTER the first match group, whereas the group has to start at the zero-index of the RegEx.</li>
        <li>Replacements are a pair of RegEx which are used to replace placeholders from injections to "real" names; they also work by match groups.</li>
      </ul>
      <b>Bug: Reload might be needed before repeatedly patching!</b>
    </div>
    <div id="cardHelp" class="card" style="--theme:137, 53, 111">
      <h3><i class="fas fa-infinity"></i>Shortcuts <small> to remember</small></h3>
      <ul>
        <li><code>ALT + s</code> <br>save profile in storage<br><br></li>
        <li><code>ALT + l</code> <br>load profile <br><br></li>
        <li><code>ALT + i</code> <br>injection from JSON<br><br></li>
        <li><code>ALT + r</code> <br>replacement from JSON<br><br></li>
        <li><code>ALT + c</code> <br>copy profile JSON<br><br></li>
        <li><code>ALT + v</code> <br>load profile JSON<br><br></li>
      </ul>
    </div>
    <div id="cardProcess" class="card" style="--theme:137, 53, 111">
      <h3><i class="fas fa-layer-group"></i> Patch Process</h3>
      <ol class="list" id="groupsView">

      </ol> 
    </div>
  </div>
  <div id="codearea">
    <div class="card" style="--theme:53, 137, 126">
      <h3><i class="fas fa-align-left"></i> Source Code</h3>
      <textarea id="inputCode">
      </textarea>
    </div>
    <div class="card" style="--theme:53, 137, 126">
      
      <h3><i class="fas fa-hat-wizard"></i> Patched Code </h3>
      <button id="patchCode">Generate Code</button>
      <br><br>
      <textarea id="outputCode">
  
      </textarea>
    </div>
  </div>
  <script src="js/script.js" type="module"></script>
</body>

</html>